<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Gudlavalleru College</title>
<meta name="description" content="Student details page for Gudlavalleru Polytechnic College. View student info and more.">

 <style>

    *{ margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }

    body{

      background-image: url('https://i.ibb.co/tPQGdpXc/1695137239-IMG-20230919-205702.jpg');

      background-size: cover;

      background-Position:center;

      background-repeat: no-repeat;

      height: 100vh;

      display: flex;

      justify-content: center;

      align-items: center;

      color: white;

    }

     .jagadeesh{

      background: rgba(0, 0, 0, 0.7);

      padding: 40px;

      border-radius: 15px;

      box-shadow: 0 0 15px rgba(0, 255, 204, 0.6);

      text-align: center;

      width: 320px;

    }

    h1 {

      color: aqua;

      margin-bottom: 20px;

      font-size: 30px;

       

     }

     .chinnu{

       width:100%;

       padding: 10px;

      margin: 1px 0;

      border-radius: 10px;

      

      outline: none;

      font-size: 16px;

      color: white;

    

      background-color:black ;

    

       

     }

     ::placeholder{

       color: white;

       font-size:15px;

     }

     .chin{

       width:100%;

       padding: 10px;

       margin: 1px;

       border-radius:10px;

       color: white;

       background-color:black;

       

     }

     .btn{

       width:50%;

       padding:8px;

       margin: 10px;

       background-color: aqua;

       font-weight: bold;

       border-radius:10px;

       border:none;

       cursor: pointer;

       

       transition: 0.3s;

       

     }

     .btn:hover{

       background:black;

      

     }

     h2{

       color:white;

       font-size: 30px;

      

      justify-content: center;

       transform: translate( 10px,-150px);

       

       

     }

   .jaggu {

  width: 300px;

  height: 40px;

  padding: 5px 10px;

  border: 2px solid aqua;       

  border-radius: 10px;

  background: rgba(255, 255, 255, 0.1);

  color: white;

  font-size: 20px;

  outline: none;

  transition: 0.3s;
    
   

  transform:translate(70px,-140px);
    

}

input[type="text"]:focus,

input[type="text"]:hover {

  border-color: #00ffcc;

  box-shadow: 0 0 10px #00ffcc;

  background: rgba(0, 0, 0, 0.4);

}

#branch::placeholder{

  font-size:20px;

}

.jag{

  width:300px;

  padding:5px 10px;

  height:40px;

  border:2px solid aqua;

  border-radius: 10px;

  background: rgba(255, 255, 255, 0.1);

  color: white;

  font-size: 20px;

  outline: none;

  transition: 0.3s;

  transform:translate(70px,-130px);

  

  

  

}

.jagu{

  width:300px;

  padding:5px 10px;

  height:40px;

  border:2px solid aqua;

  border-radius: 10px;

  background: rgba(255, 255, 255, 0.1);

  color: white;

  font-size: 20px;

  outline: none;

  transition: 0.3s;

  transform:translate(70px,-120px);

  

  }

  .ja{

    width:50%;

       padding:8px;

       margin: 10px;

       background-color: aqua;

       font-weight: bold;

       border-radius:10px;

       border:none;

       cursor: pointer;

     transform:translate(90px,-110px);

  }

    table {

      margin: 20px auto;

      border-collapse: collapse;

      width: 90%;

    }

    th, td {

      border: 1px solid aqua;

      padding: 10px;

      text-align: center;

    }

    th { background-color: aqua; color: black; }

    

    #backBtn {

  position: absolute;

  top: 20px;       /* move up or down */

  left:10px;      /* move left or right */

  padding: 10px 20px;

  background-color: aqua;

  border: none;

  border-radius: 8px;

  color: black;

  font-weight: bold;

  cursor: pointer;

  transition: 0.3s;

}

#backBtn:hover {

  background-color: black;

  color: aqua;

}

  </style>

</head>

<body>

  <!-- LOGIN PAGE -->

  <div class="jagadeesh" id="login-box">

    <h1>WELCOME TO GUDLAVALLERU POLYTECHNIC</h1>

    <input type="text" id="username" class="chinnu" placeholder="ENTER USERNAME">

    <input type="password" id="password" class="chin" placeholder="PASSWORD">

    <button class="btn" onclick="login()">Login</button>

  </div>

  <!-- STUDENT DATA DISPLAY -->

  <div id="studentData" style="display:none;"></div>

  <!-- Firebase -->

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <script>

    const firebaseConfig = {

      apiKey: "AIzaSyCqeju2Prfcdk7z3qoQu1Bvt_g1wrjK88Q",

      authDomain: "first-webpage-be004.firebaseapp.com",

      databaseURL: "https://first-webpage-be004-default-rtdb.firebaseio.com/",

      projectId: "first-webpage-be004",

      storageBucket: "first-webpage-be004.appspot.com",

      messagingSenderId: "609778832585",

      appId: "1:609778832585:web:37b58b10bb217a60002918"

    };

    firebase.initializeApp(firebaseConfig);

    function login() {

      const username = document.getElementById("username").value.trim();

      const password = document.getElementById("password").value.trim();

      if (username === "JAGADEESH" && password === "0987") {

        document.body.style.backgroundImage = "url('https://i.postimg.cc/FFxsTq4c/gradient-abstract-wireframe-background-23-2149009903.jpg')";

        document.body.style.backgroundAttachment="fixed";

        document.getElementById("login-box").style.display = "none";

        const form = document.createElement("div");

        form.id = "formSection";

        form.innerHTML = `

           <h2 style='color:aqua;text-align:center;'>ENTER THE DETAILS:</h2>

          <div>

          

          

            <input type="text" class="jaggu" id="pin" placeholder="ENTER PIN NO">

            

            <input type="text" class="jag"  id="year" placeholder="ENTER YEAR">

            

            <input list="branches" class="jagu" id="branch" placeholder="SELECT BRANCH">

            <datalist id="branches">

              <option value="CME"><option value="ECE"><option value="EEE"><option value="MECH">

              <option value="CIVIL"><option value="IOT"><option value="AIML">

            </datalist>

            <button class="ja" onclick="showDetails()">Submit</button>

          </div>

        `;

        document.body.appendChild(form);

      } else {

        alert("Invalid username or password!");

      }

    }

    function showDetails() {

      const pin = document.getElementById("pin").value.trim();

      const year = document.getElementById("year").value.trim();

      const branch = document.getElementById("branch").value.trim();

      if (!pin || !year || !branch) {

        alert("Please fill all fields!");

        return;

      }

      document.body.style.backgroundImage = "url('https://i.ibb.co/mF4R6J7H/527227-wallpaper-pastel-music-blue-blur.jpg')";

      document.body.style.backgroundSize = "cover";

  document.body.style.backgroundPosition = "center";

  document.body.style.transition = "background 1s ease-in-out";

  document.body.style.height = "auto";

document.body.style.minHeight = "100vh";

document.body.style.overflowY = "auto";

document.body.style.display = "block";

document.body.style.alignItems = "unset";

document.body.style.justifyContent = "unset";

      document.getElementById("formSection").style.display = "none";

    

      loadStudentData(pin, year, branch);

    }

    function loadStudentData(pin, year, branch) {

      const dataContainer = document.getElementById("studentData");

      dataContainer.style.display = "block";

      dataContainer.innerHTML = "<h3 style='color:aqua;text-align:center;'>Loading student data...</h3>";

      firebase.database().ref("students/" + pin).once("value").then((snapshot) => {

        const data = snapshot.val();

        if (!data) {

          dataContainer.innerHTML = `<p style="color:red;text-align:center;

          font-size:30px;">No student found with PIN: ${pin}</p>`;

          return;

        }

        // Student details

        let html = `

       <h2 style="color:#00ffff;text-align:center;margin-top:30px;

  text-shadow:0 0 15px black;">Student Details</h2>

  <div style="

    display: flex;

    align-items: center;

    justify-content: center;

    flex-wrap: wrap;

    gap: 30px;

    margin-top: 50px;

    padding: 25px;

    border-radius: 20px;

    background: rgba(255, 255, 255, 0.1);

    backdrop-filter: blur(10px);

    box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);

    color: white;

    width: 90%;

    max-width: 800px;

    margin-inline: auto;

  ">

    <!-- Photo -->

    <img src="${data.photo || 'https://i.ibb.co/BHvXBmMX/unknown-profile-icon-4366918-512.png'}" 

      alt="Student Photo"

      style="width:160px;height:180px;border-radius:15px;border:3px solid aqua;object-fit:cover;box-shadow:0 0 15px aqua;">

    <!-- Details -->

    <div style="flex:1;min-width:250px;">

      <p><b style="color:aqua;">Name:</b> ${data.name || "Unknown"}</p>

      <p><b style="color:aqua;">PIN:</b> ${pin}</p>

      <p><b style="color:aqua;">Year:</b> ${data.year}</p>

      <p><b style="color:aqua;">Branch:</b> ${data.branch}</p>

      <p><b style="color:aqua;">Section:</b> ${data.section || "E"}</p>

      <p><b style="color:aqua;">ssc rank %:</b> ${data.sscrank|| "-"}%</p>

            <p><b style="color:aqua;"> polycet rank:</b> ${data.polycetrank|| "-"}</p>

      <p><b style="color:aqua;">1st Year %:</b> ${data.Firstyear|| "-"}%</p>

      <p><b style="color:aqua;">2nd Year %:</b> ${data.secondYear|| "-"}%</p>

      <p><b style="color:aqua;">3rd Year %:</b> ${data.thirdYear|| "-"}%</p>

    </div>

  </div>

          <button id="backBtn" onclick="goBack()">BACK</button>

        `;

        // First Year Marks

        const firstMarks = data.firstYearMarks || {};

        html += `

        <h3 style="color:aqua;margin-top:15px;">Marks in first year</h3>

        <table style="width:100%;margin-top:10px;color:white;border-collapse:collapse;">

          <tr><th>Subject</th><th>Marks</th></tr>`;

        if (Object.keys(firstMarks).length) {

          for (const [sub, mark] of Object.entries(firstMarks)) {

            html += `<tr><td>${sub}</td><td>${mark}</td></tr>`;

          }

        } else {

          html += `<tr><td colspan="2">No marks available</td></tr>`;

        }

        html += `</table>`;

        // econd Year Marks

        const secondMarks = data.secondYearMarks || {};

        html += `

        <h3 style="color:aqua;margin-top:15px;">Marks in second year</h3>

        <table style="width:100%;margin-top:10px;color:white;border-collapse:collapse;">

          <tr><th>Subject</th><th>Marks</th></tr>`;

        if (Object.keys(secondMarks).length) {

          for (const [sub, mark] of Object.entries(secondMarks)) {

            html += `<tr><td>${sub}</td><td>${mark}</td></tr>`;

          }

        } else {

          html += `<tr><td colspan="2">No marks available</td></tr>`;

        }

        html += `</table>`;

    

        

        //third year marks

     

     const thirdmarks = data.thirdYearMarks  || {};

        html += `

        <h3 style="color:aqua;margin-top:15px;">Marks in third year</h3>

        <table style="width:100%;margin-top:10px;color:white;border-collapse:collapse;">

          <tr><th>Subject</th><th>Marks</th></tr>`;

        if (Object.keys(thirdmarks).length) {

          for (const [sub, mark] of Object.entries(thirdmarks)) {

            html += `<tr><td>${sub}</td><td>${mark}</td></tr>`;

          }

        } else {

          html += `<tr><td colspan="2">No marks available</td></tr>`;

        }

        html += `</table>`;

        dataContainer.innerHTML = html;

     

     

     

      });

    }

    function goBack() {

  const studentData = document.getElementById("studentData");

  studentData.style.display = "none";

  // Remove old form if it already exists

  const oldForm = document.getElementById("formSection");

  if (oldForm) oldForm.remove();

  // Rebuild the form completely

  const form = document.createElement("div");

  form.id = "formSection";

  form.innerHTML = `

    <h2 style='color:aqua;text-align:center;'>ENTER THE DETAILS:</h2>

    <div>

      <input type="text" class="jaggu" id="pin" placeholder="ENTER PIN NO">

      <input type="text" class="jag" id="year" placeholder="ENTER YEAR">

      <input list="branches" class="jagu" id="branch" placeholder="SELECT BRANCH">

      <datalist id="branches">

        <option value="CME"><option value="ECE"><option value="EEE">

        <option value="MECH"><option value="CIVIL"><option value="IOT"><option value="AIML">

      </datalist>

      <button class="ja" onclick="showDetails()">Submit</button>

    </div>

  `;

  document.body.appendChild(form);

  // Restore background

  document.body.style.backgroundImage = "url('https://i.postimg.cc/FFxsTq4c/gradient-abstract-wireframe-background-23-2149009903.jpg')";

  document.body.style.backgroundSize = "cover";

  document.body.style.backgroundPosition = "center";

  document.body.style.backgroundAttachment = "fixed";

  document.body.style.transition = "background 1s ease-in-out";

    }

  </script>

</body>

</html>